# YouTube API クォータ管理ガイド

YouTube Data APIを使用する際のクォータ（利用制限）の仕組みと、効率的な管理方法について解説します。

## クォータとは

YouTube Data APIには、1日あたりの利用量に制限（クォータ）が設けられています。これは、APIの過剰な使用を防ぎ、サービスの安定性を保つためのものです。

- 標準アカウントの1日のクォータ：10,000ユニット
- クォータは太平洋標準時（PST）の午前0時にリセットされます

## クォータの消費量

APIリクエストの種類によって消費されるクォータ単位が異なります。つべナビでよく使用する操作の消費量は以下の通りです：

| 操作 | 消費クォータ単位 |
|------|----------------|
| チャンネル検索 | 100 |
| チャンネル詳細取得 | 1 |
| 動画リスト取得（50件） | 1 |
| 動画詳細取得（1件） | 1 |
| 動画統計取得（1件） | 1 |

## クォータ超過時の対処法

クォータを超過すると「Quota exceeded」（クォータを超えました）というエラーが表示されます。以下の対処法があります：

### 短期的な対処法

1. **翌日まで待つ**
   - クォータは24時間ごとにリセットされます。
   
2. **必要最小限の機能のみ使用する**
   - 絶対に必要な分析のみを実行し、クォータを節約します。

3. **別のAPI Keyを取得して設定する**
   - 別のGoogleアカウントでAPI Keyを作成し、つべナビの設定に登録します。
   - 注意：Google Cloudプロジェクトごとにクォータが設定されるため、同じプロジェクト内で複数のキーを作成しても効果はありません。

### 長期的な対処法

1. **クォータの引き上げを申請する**
   - Google Cloud Consoleからクォータの引き上げを申請できます。
   - 申請手順：
     1. [Google Cloud Console](https://console.cloud.google.com/)にアクセス
     2. プロジェクトを選択
     3. 「APIとサービス」>「クォータ」を選択
     4. YouTube Data APIのクォータを検索
     5. 「クォータを編集」を選択し、希望する上限を指定
     6. 申請理由を記入して送信

2. **API呼び出しを最適化する**
   - つべナビの設定で「API利用最適化」をオンにすると、クォータ消費を最小限に抑える工夫をします。
   - 例：同じデータに対する重複リクエストの抑制、バッチリクエストの活用など

## クォータ消費の確認方法

現在のクォータ使用状況は、Google Cloud Consoleで確認できます：

1. [Google Cloud Console](https://console.cloud.google.com/)にアクセス
2. プロジェクトを選択
3. 「APIとサービス」>「ダッシュボード」を選択
4. YouTube Data APIを選択
5. 「クォータ」タブを表示

## よくある質問

### Q: クォータはいつリセットされますか？
A: 太平洋標準時（PST）の午前0時にリセットされます。日本時間では16時または17時（サマータイムにより変動）です。

### Q: 無料で追加クォータを取得できますか？
A: 基本的に追加クォータは有料です。ただし、教育や非営利目的の場合は、申請時に詳細を説明することで追加クォータが付与される場合があります。

### Q: クォータの使用効率を高めるコツはありますか？
A: 以下の点に注意するとクォータを効率的に使用できます。
- 必要なデータのみをリクエストする
- データのキャッシュを活用する
- バッチリクエストを使用する
- 分析頻度を必要最小限に抑える

---

このガイドで解決しない問題がある場合は、[サポートページ](/support)からお問い合わせください。 